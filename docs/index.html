<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>cpp4r documentation ‚Ä¢ cpp4r</title><link rel="stylesheet" href="menu.css"><link rel="stylesheet" href="content.css"></head><body>
<div class="main-container">
<div id="menu">
  <div>
    <h1>cpp4r Documentation</h1>
  </div>

  <div class="search-container">
    <input type="text" id="search-box" placeholder="Search..."><button id="theme-toggle" title="Toggle dark mode" aria-label="Toggle dark mode">üí°</button>
  </div>

  <div class="submenu">
    <label style="border-bottom: 0;"><a style="padding-left: 0;" href="index.html">Home üè†</a></label>
  </div>

  <div class="submenu">
    <label>Functions</label>
    <a href="reference/cpp4r-package.html">cpp4r-package</a>
    <a href="reference/pkg_template.html">pkg_template</a>
    <a href="reference/register.html">register</a>
    <a href="reference/unvendor.html">unvendor</a>
    <a href="reference/vendor.html">vendor</a>
  </div>

  <div class="submenu">
    <label>Vignettes</label>
    <a href="vignettes/01-motivations.html">01 - Motivations for cpp4r</a>
    <a href="vignettes/02-setup.html">02 - Setup</a>
    <a href="vignettes/03-package-skeleton.html">03 - Package Skeleton</a>
    <a href="vignettes/04-read-only.html">04 - Read-only versus Writable R Objects</a>
    <a href="vignettes/05-logical-functions.html">05 - Logical Functions</a>
    <a href="vignettes/06-rolling-functions.html">06 - Rolling Functions</a>
    <a href="vignettes/07-statistical-functions.html">07 - Statistical Functions</a>
    <a href="vignettes/08-logical-functions-2.html">08 - Logical Functions with Missing Values</a>
    <a href="vignettes/09-rolling-functions-2.html">09 - Rolling Functions with Missing Values</a>
    <a href="vignettes/10-statistical-functions-2.html">10 - Statistical Functions with Missing Values</a>
    <a href="vignettes/11-debugging.html">11 - Debugging R Packages</a>
    <a href="vignettes/12-external-pointers.html">12 - External Pointers</a>
    <a href="vignettes/13-compiler-optimization.html">13 - Compiler Optimizations</a>
    <a href="vignettes/14-linear-algebra.html">14 - Linear Algebra</a>
    <a href="vignettes/15-internals.html">15 - Internals</a>
    <a href="vignettes/16-FAQ.html">17 - FAQs</a>
    <a href="vignettes/17-worked-examples.html">16 - Worked Examples</a>
  </div>

</div>
<div id="content">
<h1>cpp4r</h1>

<p><img src="man/figures/logo.svg" height="139" alt=""></p>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle:
stable"></a>
<a href="https://github.com/pachadotdev/cpp4r/actions/workflows/R-CMD-check.yaml"><img src="https://github.com/pachadotdev/cpp4r/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a>
<a href="https://CRAN.R-project.org/package=cpp4r"><img src="https://www.r-pkg.org/badges/version/cpp4r" alt="CRAN
status"></a>
<a href="https://github.com/pachadotdev/cpp4r/actions/workflows/test-coverage.yaml"><img src="https://raw.githubusercontent.com/pachadotdev/cpp4r/main/badges/coverage.svg" alt="Test
coverage"></a>
<a href="https://buymeacoffee.com/pacha"><img src="https://raw.githubusercontent.com/pachadotdev/buymeacoffee-badges/main/bmc-yellow.svg" alt="BuyMeACoffee"></a>
<!-- badges: end --></p>

<p>cpp4r helps you to interact with R objects using C++ code. It is a fork
of the <a href="https://cran.r-project.org/package=cpp11">cpp11</a> package with
identical syntax and similar goals.</p>

<p>‚ö†Ô∏èImportant‚ö†Ô∏è: cpp4r was created to ease writing functions in your own
packages and does not offer on-the-fly compilation for code snippets.</p>

<p>cpp4r can be used as a replacement for cpp11 in existing or new
packages. Think of cpp11 and cpp4r as MySQL and MariaDB: they are almost
identical, but cpp4r has some extra features.</p>

<p>After discussing some <a href="https://github.com/pachadotdev/cpp11/pulls/pachadotdev">pull
requests</a> with
Hadley Wickham from Posit, it was mentioned that I should create my own
fork to add the following features:</p>

<ul><li><input type="checkbox" checked disabled> Convert ordered and unordered C++ maps to R lists.</li>
<li><input type="checkbox" checked disabled> Roxygen support on C++ side.</li>
<li><input type="checkbox" checked disabled> Allow <code>dimnames</code> attribute with matrices on C++ side.</li>
<li><input type="checkbox" checked disabled> Support nullable <code>external_ptr&lt;&gt;</code>.</li>
<li><input type="checkbox" checked disabled> Use values added to a vector with <code>push_back()</code> immediately.</li>
<li><input type="checkbox" checked disabled> Support bidirectional passing of complex numbers/vectors.</li>
<li><input type="checkbox" checked disabled> Provide flexibility with data types (e.g., cpp4r‚Äôs <code>as_integers()</code> and <code>as_doubles()</code> accept logical inputs while cpp11‚Äôs do not).</li>
<li><input type="checkbox" checked disabled> Some internal optimizations for better speed (e.g., <a href="https://github.com/r-lib/cpp11/pull/463">https://github.com/r-lib/cpp11/pull/463</a> and <a href="https://github.com/r-lib/cpp11/pull/430">https://github.com/r-lib/cpp11/pull/430</a>).</li>
</ul><h2>Getting started</h2>

<p>Check the <a href="https://cpp4r.org/">documentation</a> to get started using cpp4r
in your scripts, particularly if you are new to C++ programming.</p>

<h2>Using cpp4r in a package</h2>

<p>Create a new package with <code>cpp4r::pkg_template("~/path/to/mypkg")</code> and
then edit the generated files.</p>

<p>To add cpp4r to an existing package, put your C++ files in the <code>src/</code>
directory and add the following to your DESCRIPTION file:</p>

<p>    LinkingTo: cpp4r</p>

<p>Then add a roxygen header, for example, to <code>R/mypkg-package.R</code>:</p>

<pre><code>#' @useDynLib mypkg, .registration = TRUE
#' @keywords internal
"_PACKAGE"
</code></pre>

<p>Then decorate C++ functions you want to expose to R with
<code>[[cpp4r::register]]</code>.</p>

<p>cpp4r is a header only library with no hard dependencies and does not
use a shared library. It is straightforward and reliable to use in
packages without fear of compile-time and run-time mismatches.</p>

<h2>Vendoring</h2>

<p>You can <a href="https://cpp4r.org/articles/01-motivations.html">vendor</a> the
current installed version of cpp4r headers into your package with
<code>cpp4r::vendor()</code>.</p>

<p>The
<a href="https://github.com/pachadotdev/cpp4r/tree/main/cpp4rtest">cpp4rvendor</a>
package shows an example of vendoring cpp4r headers.</p>

<p>Vendoring ensures the headers will remain unchanged until you explicitly
update them. The advantage is that your package will not break if there
are breaking changes in future versions of cpp4r. The disadvantage is
that you will not get bug fixes and new features unless you update the
vendored headers.</p>

<h2>Getting help</h2>

<p>Please open an issue or email me. I will do my best to respond before 48
hours.</p>

<h2>Contributing</h2>

<p>Contributions are welcome! Please see the <a href="https://cpp4r.org/articles/15-internals.html">internals
vignette</a> for details
about design choices and coding style.</p>

<h2>Code of Conduct</h2>

<p>Please note that the cpp4r project is released with a <a href="https://cpp4r.org/CODE_OF_CONDUCT.html">Contributor Code
of Conduct</a>. By contributing to
this project, you agree to abide by its terms.</p>
<footer><p>Last updated: 2025-10-12 10:17:40</p>
</footer><script>
document.addEventListener('DOMContentLoaded', function() {
  // Theme toggle functionality
  const themeToggle = document.getElementById('theme-toggle');
  const currentTheme = localStorage.getItem('theme') || 'light';

  // Apply saved theme
  document.documentElement.setAttribute('data-theme', currentTheme);

  if (themeToggle) {
    themeToggle.addEventListener('click', function() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    });
  }

  // Search functionality
  const searchBox = document.getElementById('search-box');
  if (!searchBox) return;

  let searchIndex = [];

  // Load search index
  fetch('search.json')
    .then(response => response.json())
    .then(data => {
      searchIndex = data;
    })
    .catch(error => {
      console.log('Search index not available, falling back to simple search');
    });

  searchBox.addEventListener('input', function() {
    const searchTerm = this.value.toLowerCase().trim();

    if (searchTerm === '') {
      // Show all items when search is empty
      document.querySelectorAll('#menu .submenu a').forEach(function(link) {
        link.style.display = 'block';
      });
      document.querySelectorAll('#menu .submenu').forEach(function(submenu) {
        submenu.style.display = 'block';
      });
      return;
    }

    // Content-based search using search index
    if (searchIndex.length > 0) {
      const matchingUrls = new Set();

      searchIndex.forEach(function(item) {
        const searchContent = (item.title + ' ' + item.content).toLowerCase();
        if (searchContent.includes(searchTerm)) {
          matchingUrls.add(item.url);
        }
      });

      // Show/hide links based on content matches
      document.querySelectorAll('#menu .submenu a').forEach(function(link) {
        const href = link.getAttribute('href');
        const relativePath = href.replace(/^.*\//, ''); // Get just the filename part

        let isMatch = false;
        matchingUrls.forEach(function(url) {
          if (url.includes(relativePath)) {
            isMatch = true;
          }
        });

        // Also check link text for simple matches
        if (!isMatch && link.textContent.toLowerCase().includes(searchTerm)) {
          isMatch = true;
        }

        link.style.display = isMatch ? 'block' : 'none';
      });
    } else {
      // Fallback to simple name-based search
      document.querySelectorAll('#menu .submenu a').forEach(function(link) {
        const linkText = link.textContent.toLowerCase();
        link.style.display = linkText.includes(searchTerm) ? 'block' : 'none';
      });
    }

    // Show/hide entire submenus if no visible links
    document.querySelectorAll('#menu .submenu').forEach(function(submenu) {
      const visibleLinks = submenu.querySelectorAll('a[style*="display: block"]');
      const label = submenu.querySelector('label');

      // Don't hide the Home submenu
      if (label && label.textContent.includes('Home')) {
        return;
      }

      submenu.style.display = visibleLinks.length > 0 ? 'block' : 'none';
    });
  });
});
</script></div>
</div>
</body></html>

